<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Loading...</title>
    <link rel="stylesheet" href="../../styles.css">
    <link href="../output.css" rel="stylesheet">


</head>

<body>
    <div class="header-section ">

        <!-- Controles fijos arriba -->
        <div class="controls sticky top-0 z-50 bg-white shadow-md p-2 flex flex-col gap-2">
            <!-- Vista escritorio -->
            <div class="w-full grid grid-cols-3 items-center text-center">

                <div class="flex justify-start">
                    <button onclick="window.location.href='./instructions.html'"
                        class="navigation-btn bg-primary-light hover:bg-primary-dark text-white">
                        <i class="fas fa-chevron-left"></i>
                        <span data-i18n="buttons.backToInstructions">Instructions</span>
                    </button>
                </div>


                <div class="flex justify-center gap-2 flex-wrap">
                    <button class="btn back-btn" id="backBtn" disabled>
                        <i class="fas fa-arrow-left"></i>
                        <span>Volver</span>
                    </button>
                    <button class="btn clean-row-btn" id="cleanRowBtn" disabled>
                        <i class="fas fa-trash-alt"></i>
                        <span>Borrar</span>
                    </button>
                    <button class="btn undo-btn" id="undoBtn" disabled>
                        <i class="fas fa-undo"></i>
                        <span>Deshacer</span>
                    </button>
                    <button class="btn next-btn bg-primary-light" id="nextBtn" disabled>
                        <i class="fas fa-arrow-right"></i>
                        <span>Siguiente</span>
                    </button>
                    <button class="btn save-btn hidden" id="saveBtn">
                        <i class="fas fa-check"></i>
                        <span>Enviar</span>
                    </button>
                </div>

               
            </div>



            <!-- Resto del contenido -->
            <div class="timeline-header px-4">
                <h1 class="timeline-title"></h1>
                <p class="timeline-description"></p>
                <p id="descripcion" class="text-xl"></p>
            </div>
        </div>





        <div class="abosulute ">
            <div class="timeline-canvas ">
                <div class="timelines-wrapper overflow-hidden">
                    <div class="past-initialized-timelines-wrapper"></div>
                    <div class="last-initialized-timeline-wrapper"></div>
                </div>
                <div class="gradient-bar"></div>
            </div>

            <div class="activities-container" id="activitiesContainer">
                <div class="activities-accordion"></div>
            </div>
        </div>

    </div>

    <!-- Debug overlay element -->
    <div id="debugOverlay" class="debugOverlay"></div>

    <!-- Load environment variables first -->
    <script src="../../env-loader.js"></script>

    <!-- Load i18n (internationalization) module -->
    <script src="../../js/i18n.js" type="module"></script>

    <!-- Load Bowser and other scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bowser/2.11.0/bundled.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
    <script src="../../js/timeline_marker.js" type="module"></script>
    <script src="../../js/timeline.js" type="module"></script>
    <script src="../../js/utils.js" type="module"></script>
    <script src="../../js/autoscroll.js" type="module"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <!-- <script src="js/script.js?v=1.1" type="module"></script> -->
    <!-- <script src="tests/timeline_test.js" type="module"></script> -->

    <script type="module">
        import { calculateTimeDifference } from '../../js/utils.js';
        import { init } from '../../js/script.js';
        window.calculateTimeDifference = calculateTimeDifference;
        await init();
    </script>

    <script src="../../js/attributeTracker.js"></script>

    <div id="instructionsFooter"
        style="padding: 20px; background: white; border-top: 1px solid #ddd; text-align: left; margin-top: 20px;">
        <div style="display: flex; justify-content: space-between; align-items: center;">

            <button id="navSubmitBtn" class="nav-submit-btn">
                <i class="fas fa-check"></i>
                <span data-i18n="buttons.submit">Submit</span>
            </button>
        </div>
    </div>
</body>

</html>